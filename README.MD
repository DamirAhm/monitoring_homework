### Запуск

```shell
$ docker compose -f ./docker/docker-compose.yml -p docker up -d
```

### Описание эндпоинтов

**GET /api/users** - возвращает список пользователей

**GET /api/products?productId** - возвращает продукт по его id, пример id - 200a52bf-fcf8-463b-baac-abaea9f94401

**POST /api/orders** - создает заказ

**DELETE /api/orders** - удаляет заказ по id

### Метрики

В проекте задана единственная метрика типа Histogram
http_request_duration_seconds - время ответа на запросы в секундах
Информация в метрике содержит:
```
{ 
    method - HTTP метод запроса
    endpoint - path эндпоинта на который пришел запрос 
    status_code - код ответа  
}
```

### Задание

1. Запустите приложение
2. Постройте в prometheus (находится на http://localhost:9090) график по метрике http_request_duration_seconds по каждому endpoint
3. Найдите endpoint который выбивается из графиков и исправьте найденную ошибку
4. На роут /api/products добавьте метрику, по которой можно будет понять, какие продукты запрашивают чаще всего, постройте график в prometheus
5. Добавьте в проект логгер и на роут /api/orders добавьте логирование создания нового заказа

### Задания под звездочкой 

1. Добавить приложению глобальный обработчик ошибок с логгированием
2. Добавить сквозное логгирование запросов с помощью поля requestId

### Вне зачета

Вместе с prometheus в docker-compose также поднимаются сервисы graphana (на порту 3001) для визуализации метрик и логов и loki (на порту 3100) для сбора и хранения логов
Авторизоваться в graphana модно с логином и паролем admin 
Чтобы подключить prometheus и loki к graphana в качестве источников данных вам необходимо вместо хоста указывать имя необходимого сервиса (http://prometheus:9090 и http://loki:3100 соответственно)
Также учитывайте, что чтобы запуститься, Loki требуется некоторое время, его статус можно узнать сделав запрос на http://localhost:3100/ready